<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>DQ2ムーンブルク王女 | ドラゴンクエストI・II HD-2D 非公式メモ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  line-height: 1.6;
  max-width: 1100px;
  margin: 0 auto;
  padding: 16px;
  background-color: #f7f2e9; /* ややオレンジがかった薄いグレー */
  color: #333;
}
a {
  color: #1f5faa;
}
header h1, h1 {
  font-size: 1.6rem;
  margin-top: 0;
  margin-bottom: 0.5rem;
  border-bottom: 2px solid #d4b27c;
  padding-bottom: 0.25rem;
}
h2 {
  font-size: 1.2rem;
  margin-top: 1.6rem;
  margin-bottom: 0.4rem;
  border-left: 4px solid #d4b27c;
  padding-left: 0.5rem;
}
nav, .nav-links {
  margin-bottom: 12px;
  font-size: 0.9rem;
}
nav a, .nav-links a {
  margin-right: 8px;
}
p.note, .legend {
  font-size: 0.85rem;
  color: #555;
}
table {
  border-collapse: collapse;
  width: 100%;
  font-size: 0.9rem;
}
th, td {
  border: 1px solid #ccc;
  padding: 4px 6px;
  text-align: left;
  white-space: nowrap;
}
th {
  background-color: #f2e7d7;
}
tbody tr:nth-child(odd) {
  background-color: #fbf7f0;
}
tbody tr:nth-child(even) {
  background-color: #fdfaf5;
}
.name-col {
  text-align: left;
}
.status-empty {
  text-align: center;
  padding: 12px 0;
  color: #777;
}
@media (max-width: 768px) {
  body {
    padding: 12px;
  }
  header h1, h1 {
    font-size: 1.3rem;
  }
}

  </style>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
  <nav>
    <a href="./index.html">← トップページに戻る</a>
    <a href="./dq_character.html">← キャラクター情報に戻る</a>
  </nav>

  <header>
    <h1>DQ2ムーンブルク王女</h1>
  </header>

  <main>
    <section id="initial-stats-section">
      <h2>初期ステータス（HD-2D版）</h2>
      <p class="note">
        ゲーム内の検証結果をもとにした初期レベルと能力値の一覧です。<br>
        HP・MPは表には含めていませんが、目安として「HPはたいりょくの2倍」「MPはかしこさの2倍」と考えてください。
      </p>
      <table id="initial-stats-table">
        <thead>
          <tr>
            <th>キャラ名</th>
            <th>初期Lv</th>
            <th>ちから</th>
            <th>みのまもり</th>
            <th>すばやさ</th>
            <th>たいりょく</th>
            <th>かしこさ</th>
            <th>うんのよさ</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="8" class="status-empty">読み込み中...</td></tr>
        </tbody>
      </table>
    </section>

    <section id="exp-table-section">
      <h2>レベル別経験値</h2>
      <p class="note">
        各レベル到達までに必要なおおよその経験値です。<br>
        「累計」はそのレベルまでの合計値、「次レベルまで」は次のレベルに上がるために必要なおおよその値を表します。
      </p>
      <table id="exp-table">
        <thead>
          <tr>
            <th>Lv</th>
            <th>累計</th>
            <th>次レベルまで</th>
          </tr>
        </thead>
        <tbody>
          <tr><td colspan="3" class="status-empty">読み込み中...</td></tr>
        </tbody>
      </table>
    </section>

    <section id="skills-section">
      <h2>習得呪文・特技</h2>
      <table>
        <thead>
          <tr>
            <th>Lv</th>
            <th>内容</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>11</td><td>ホイミ、ベホイミ、ルーラ、リレミト、トヘロス、バギ、マヌーサ、ラリホー、あなほり、いぬのはな、とおぼえ</td></tr>
          <tr><td>12</td><td>イオ</td></tr>
          <tr><td>13</td><td>ルカニ</td></tr>
          <tr><td>14</td><td>キラキラポーン</td></tr>
          <tr><td>15</td><td>キアリク</td></tr>
          <tr><td>16</td><td>バギマ／投げキッス</td></tr>
          <tr><td>17</td><td>ザメハ</td></tr>
          <tr><td>18</td><td>ルカナン</td></tr>
          <tr><td>20</td><td>マジックバリア、せいしんとういつ</td></tr>
          <tr><td>21</td><td>ザオラル</td></tr>
          <tr><td>22</td><td>イオラ、愛のムチ</td></tr>
          <tr><td>23</td><td>マホトラ</td></tr>
          <tr><td>24</td><td>メダパニ／ツッコミ</td></tr>
          <tr><td>25</td><td>バイキルト</td></tr>
          <tr><td>26</td><td>フバーハ</td></tr>
          <tr><td>28</td><td>ヒップアタック</td></tr>
          <tr><td>29</td><td>シャナク</td></tr>
          <tr><td>30</td><td>バギクロス</td></tr>
          <tr><td>32</td><td>ベホマラ―</td></tr>
          <tr><td>35</td><td>ビーストモード</td></tr>
          <tr><td>37</td><td>イオナズン</td></tr>
          <tr><td>41</td><td>ザオリク</td></tr>
          <tr><td>42</td><td>パルプンテ</td></tr>
          <tr><td>44</td><td>魔力かくせい</td></tr>
        </tbody>
      </table>
    </section>
  </main>

  <script>
    const CHARACTER_CONFIG = {
      initialName: "DQ2ムーンブルク王女",
      expTotalColumn: "DQ2ムーンブルク王女",
      expNextColumn: "次レベルまで.2"
    };

    async function loadCsv(path) {
      const res = await fetch(path);
      if (!res.ok) throw new Error("読み込み失敗: " + path);
      const text = await res.text();
      const parsed = Papa.parse(text, {
        header: true,
        skipEmptyLines: true,
      });
      return parsed.data;
    }

    function fillInitialStats(rows) {
      const tbody = document.querySelector("#initial-stats-table tbody");
      tbody.innerHTML = "";
      const row = rows.find(r => (r["キャラ名"] || "").trim() === CHARACTER_CONFIG.initialName);
      if (!row) {
        const tr = document.createElement("tr");
        const td = document.createElement("td");
        td.colSpan = 8;
        td.className = "status-empty";
        td.textContent = "該当キャラクターのデータが見つかりませんでした。";
        tr.appendChild(td);
        tbody.appendChild(tr);
        return;
      }
      const tr = document.createElement("tr");
      function cell(key) {
        const td = document.createElement("td");
        td.textContent = row[key] ?? "";
        return td;
      }
      tr.appendChild(cell("キャラ名"));
      tr.appendChild(cell("初期レベル"));
      tr.appendChild(cell("ちから"));
      tr.appendChild(cell("みのまもり"));
      tr.appendChild(cell("すばやさ"));
      tr.appendChild(cell("たいりょく"));
      tr.appendChild(cell("かしこさ"));
      tr.appendChild(cell("うんのよさ"));
      tbody.appendChild(tr);
    }

    function fillExpTable(rows) {
      const tbody = document.querySelector("#exp-table tbody");
      tbody.innerHTML = "";
      for (const r of rows) {
        const level = r["レベル"];
        const total = r[CHARACTER_CONFIG.expTotalColumn];
        const next = r[CHARACTER_CONFIG.expNextColumn];
        if (!level || (total == null && next == null)) continue;

        const tr = document.createElement("tr");
        const tdLv = document.createElement("td");
        tdLv.textContent = level;
        tr.appendChild(tdLv);

        const tdTotal = document.createElement("td");
        tdTotal.textContent = total ?? "";
        tr.appendChild(tdTotal);

        const tdNext = document.createElement("td");
        tdNext.textContent = next ?? "";
        tr.appendChild(tdNext);

        tbody.appendChild(tr);
      }
      if (!tbody.hasChildNodes()) {
        const tr = document.createElement("tr");
        const td = document.createElement("td");
        td.colSpan = 3;
        td.className = "status-empty";
        td.textContent = "経験値データが見つかりませんでした。";
        tr.appendChild(td);
        tbody.appendChild(tr);
      }
    }

    (async function init() {
      try {
        const [initialRows, expRows] = await Promise.all([
          loadCsv("dq_Initial%20value.csv"),
          loadCsv("dq2_experience%20value%20table.csv"),
        ]);
        fillInitialStats(initialRows);
        fillExpTable(expRows);
      } catch (e) {
        console.error(e);
      }
    })();
  </script>
</body>
</html>
